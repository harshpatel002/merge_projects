<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background-color: rgb(250, 217, 176);
        }

        .pageno {
            display: inline-block;
            height: 25px;
            text-align: center;
        }

        h1 {
            color: #892929;
            text-align: center;
        }

        .table_header {
            font-size: 20px;
            font-weight: bold;
            color: #892929;
            /* padding: 10px; */
        }

        table {
            /* margin-left: 45px; */
            width: 100%;
            text-align: center;
            background-color: rgb(248, 188, 115);
        }

        a {
            text-decoration: none;

        }

        b {
            color: red;
            /* font-size: 25px; */
        }
    </style>
</head>

<body>
    <h1>CANDIDATE DATA</h1>
    <center>
        <form action="/search" style="margin-bottom: 25px;" method="get">
            <input type="text" name="searchbar" id="searchbar">
            <input type="submit" value="GO">
        </form>
        <p>
            Candidate_fname='^', Candidate_lname='%', Candidate_contact='#', Candidate_email='!', Candidate_city='~',
            Candidate_Dob='-'
        </p>
    </center>
    <table border="2">
        <tr class="header">
            <td class="table_header">Candidate ID</td>
            <td class="table_header">fname</td>
            <td class="table_header">lname</td>
            <td class="table_header">Designation</td>
            <td class="table_header">Email</td>
            <td class="table_header">Phone-No</td>
            <td class="table_header">Gender</td>
            <td class="table_header">Address-1</td>
            <td class="table_header">Address-2</td>
            <td class="table_header">City</td>
            <td class="table_header">State</td>
            <td class="table_header">Zip-Code</td>
            <td class="table_header">Relationship Status</td>
            <td class="table_header">DOB</td>
           
        </tr>
        <tbody id="t_body">
            <% for(i=0;i <data.length;i++){ %>
                <tr id="<%=data[i].candidate_id%>">
                    <td>
                        <%=data[i].candidate_id%>
                    </td>
                    <td>
                        <%=data[i].candidate_fname%>
                    </td>
                    <td>
                        <%=data[i].candidate_lname%>
                    </td>

                    <td>
                        <%=data[i].candidate_designation%>
                    </td>
                    <td>
                        <%=data[i].candidate_email%>
                    </td>
                    <td>
                        <%=data[i].candidate_phone_number%>
                    </td>
                    <td>
                        <%=data[i].candidate_gender%>
                    </td>
                    <td>
                        <%=data[i].candidate_address1%>
                    </td>
                    <td>
                        <%=data[i].candidate_address2%>
                    </td>
                    <td>
                        <%=data[i].candidate_city%>
                    </td>
                    <td>
                        <%=data[i].candidate_state%>
                    </td>
                    <td>
                        <%=data[i].candidate_zipcode%>
                    </td>
                    <td>
                        <%=data[i].candidate_relationship_status%>
                    </td>
                    <td>
                        <%=data[i].candidate_dob%>
                    </td>
                    
                </tr>
                <% } %>

        </tbody>
    </table>
    <p style="margin-left:35%;padding-top:10px;font-size:large;font-weight:bold;
        text-align:center;width:250px;height:30px;border-radius:5px;background-color:rgb(240, 199, 149);border:2px solid black;"
        onclick="muldel()">Delete All</p>




    <%for(var i=1;i <=allrecords;i++){%>
        <%if(page==i){%>
            <span id="<%=i%>" onclick="pagination(this)">
                <%=i%>
            </span>
            <%}else{%>
                <span id="<%=i%>" onclick="pagination(this)">
                    <%=i%>
                </span>
                <%}%>
                    <%}%> <br>

                        <script>

                            async function pagination(e) {
                                console.log('harsh');
                                let mn = e.id;
                                let flag="true"
                                console.log(mn);
                                const result = await fetch(`/showall/things/?page=${e.id}&ajax=${true}`);
                                const res = await result.json();
                                console.log(res);
                                t_body.innerHTML = ""

                                res.data.forEach(element => {
                                    t_body.innerHTML += `

                                <tr>
                                    <td>
                                        ${element.candidate_id}
                                    </td>
                                    <td>
                                        ${element.candidate_fname}
                                    </td>
                                    <td>
                                        ${element.candidate_lname}
                                    </td>
                                    <td>
                                        ${element.candidate_designation}
                                    </td>
                                    <td>
                                        ${element.candidate_email}
                                    </td>
                                    <td>
                                        ${element.candidate_phone_number}
                                    </td>
                                    <td>
                                        ${element.candidate_gender}
                                    </td>
                                    <td>
                                        ${element.candidate_address1}
                                    </td>
                                    <td>
                                        ${element.candidate_address2}
                                    </td>
                                    <td>
                                        ${element.candidate_city}
                                    </td>
                                    <td>
                                        ${element.candidate_state}
                                    </td>
                                    <td>
                                        ${element.candidate_zipcode}
                                    </td>
                                    <td>
                                        ${element.candidate_relationship_status}
                                    </td>
                                    <td>
                                        ${element.candidate_dob}
                                    </td>
                                </tr>`
                                });
                            }
                        </script>
                        